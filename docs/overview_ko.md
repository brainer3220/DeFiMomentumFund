# DeFi Momentum Fund 개요

이 문서는 DeFi Momentum Fund 프로젝트의 작동 방식과 사용 방법을 간단히 설명합니다.

## 프로젝트 목표
- 예치 자산에 대해 ERC-20 지분 토큰을 발행하는 체인 불문 Vault 구축
- 매니저가 Vault 내 자산을 이용해 직접 거래를 실행
- 모든 상호 작용에서 관리 및 성과 보수가 자동으로 누적

## Vault 동작 원리
1. **입금**
   - `deposit(amount)` 함수를 호출하여 자산을 예치합니다.
   - 0.10% 스프레드가 공제되어 가스 보상 풀에 적립됩니다.
   - 현재 순자산가치(NAV)에 따라 새 지분이 발행됩니다.
2. **상환**
   - `redeem(shares)` 함수를 호출해 보유 지분만큼 자산을 인출합니다.
   - 인출 시에도 동일한 0.10% 스프레드가 적용됩니다.
3. **수수료 누적**
   - 운용 수수료: 연 2%를 시간에 따라 누적
   - 성과 보수: 최고가 기준점 초과 수익의 20%
   - 성과 보수의 일부는 DAO 금고로 분배됩니다.
4. **거래 실행**
   - 매니저가 `executeTrade(target, data)`를 호출하여 화이트리스트된 대상과 거래합니다.
   - 가디언은 비상 시 Vault를 일시정지하거나 특정 함수를 차단할 수 있습니다.
5. **가스비 환급**
   - 누적된 스프레드를 `claimGas(amount, to)`로 청구할 수 있습니다.

## CLI 사용 예
```bash
# 10 토큰 예치
defi-cli deposit 10

# 5 지분 상환
defi-cli withdraw 5

# 수수료 정산
defi-cli crystallize
```
상태 파일은 기본적으로 `fund_state.json`에 저장되며 `FUND_STATE_FILE` 환경 변수로 변경 가능합니다.

## 지갑 연동 방법
1. `.env.example`을 복사해 `.env` 파일을 만들고 `WEB3_PROVIDER_URI`와 `PRIVATE_KEY` 값을 입력합니다.
2. 필요한 경우 `DEFAULT_GAS`, `PRICE_FEED` 값을 설정합니다.
3. CLI와 웹 인터페이스는 `python-dotenv`를 통해 이 값을 읽어 사용합니다.

## 리스크 고지
본 프로젝트는 학습용 예제로, 실제 투자 조언을 제공하지 않습니다. DeFi 투자는 원금 손실 위험이 있으므로 테스트 네트워크에서 충분히 검증 후 사용하시기 바랍니다.
